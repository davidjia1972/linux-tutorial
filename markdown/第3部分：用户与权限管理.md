### ä¸€ã€Linux ç”¨æˆ·ä¸ç»„åŸºç¡€æ¦‚å¿µ
#### 1.1 ç”¨æˆ·ç±»å‹
+ **è¶…çº§ç”¨æˆ·ï¼ˆrootï¼‰**ï¼šç³»ç»Ÿç®¡ç†å‘˜ï¼Œæ‹¥æœ‰æ‰€æœ‰æƒé™ï¼›
+ **æ™®é€šç”¨æˆ·**ï¼šä»…èƒ½è®¿é—®è‡ªå·±æˆæƒçš„èµ„æºï¼›
+ **ç³»ç»Ÿç”¨æˆ·**ï¼šç”¨äºè¿è¡Œç³»ç»ŸæœåŠ¡ï¼ˆå¦‚ `www-data`, `syslog`ï¼‰ã€‚

#### 1.2 ç”¨æˆ·ç»„ï¼ˆGroupï¼‰
+ æ¯ä¸ªç”¨æˆ·å±äºä¸€ä¸ª**ä¸»ç»„**ï¼Œä¹Ÿå¯ä»¥å±äºå¤šä¸ª**é™„åŠ ç»„**ï¼›
+ æƒé™å¯ä»¥æˆäºˆç»„è€Œä¸æ˜¯ä¸ªäººç”¨æˆ·ã€‚

#### 1.3 ç”¨æˆ·ä¿¡æ¯æ–‡ä»¶
| æ–‡ä»¶è·¯å¾„ | è¯´æ˜ |
| --- | --- |
| `/etc/passwd` | å­˜å‚¨ç”¨æˆ·è´¦æˆ·åŸºæœ¬ä¿¡æ¯ |
| `/etc/shadow` | å­˜å‚¨åŠ å¯†åçš„ç”¨æˆ·å¯†ç  |
| `/etc/group` | å­˜å‚¨ç»„ä¿¡æ¯ |
| `/etc/login.defs` | ç™»å½•ç­–ç•¥é…ç½® |


### äºŒã€ç”¨æˆ·ä¸ç»„ç®¡ç†å‘½ä»¤
#### 2.1 ç”¨æˆ·ç›¸å…³å‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
| --- | --- |
| `useradd ç”¨æˆ·å` | æ·»åŠ æ–°ç”¨æˆ· |
| `passwd ç”¨æˆ·å` | è®¾ç½®æˆ–ä¿®æ”¹å¯†ç  |
| `usermod -aG ç»„å ç”¨æˆ·å` | æŠŠç”¨æˆ·åŠ å…¥é™„åŠ ç»„ |
| `deluser ç”¨æˆ·å` | åˆ é™¤ç”¨æˆ·ï¼ˆä¿ç•™æ–‡ä»¶ï¼‰ |
| `userdel -r ç”¨æˆ·å` | åˆ é™¤ç”¨æˆ·åŠå…¶ä¸»ç›®å½• |


ç¤ºä¾‹ï¼š

```bash
sudo useradd -m alice           # åˆ›å»ºç”¨æˆ·å¹¶è‡ªåŠ¨åˆ›å»ºä¸»ç›®å½•
sudo passwd alice               # è®¾ç½®å¯†ç 
sudo usermod -aG sudo alice     # å°† alice åŠ å…¥ sudo ç»„ï¼ˆå…è®¸ææƒï¼‰
```

#### 2.2 ç»„ç®¡ç†å‘½ä»¤
| å‘½ä»¤ | è¯´æ˜ |
| --- | --- |
| `groupadd ç»„å` | æ·»åŠ æ–°ç»„ |
| `groupdel ç»„å` | åˆ é™¤ç»„ |
| `groups ç”¨æˆ·å` | æŸ¥çœ‹ç”¨æˆ·æ‰€å±ç»„ |
| `id ç”¨æˆ·å` | æŸ¥çœ‹ç”¨æˆ·UID/GIDå’Œç»„ä¿¡æ¯ |


ç¤ºä¾‹ï¼š

```bash
sudo groupadd devgroup
sudo usermod -aG devgroup alice
groups alice
```

### ä¸‰ã€ç”¨æˆ·åˆ‡æ¢ä¸æƒé™æå‡
#### 3.1 åˆ‡æ¢ç”¨æˆ·
```bash
su ç”¨æˆ·å       # åˆ‡æ¢åˆ°æŒ‡å®šç”¨æˆ·ï¼ˆéœ€è¾“å…¥å¯†ç ï¼‰
exit           # è¿”å›ä¸Šä¸€ä¸ªç”¨æˆ·
```

#### 3.2 sudo ææƒ
+ æ™®é€šç”¨æˆ·é»˜è®¤ä¸èƒ½æ‰§è¡Œç³»ç»Ÿç®¡ç†å‘½ä»¤ï¼›
+ åŠ å…¥ `sudo` ç»„çš„ç”¨æˆ·å¯ä½¿ç”¨ `sudo` ææƒè¿è¡Œå‘½ä»¤ï¼š

```bash
sudo apt update
```

+ è‹¥è¾“å…¥å‘½ä»¤é”™è¯¯ã€æƒé™ä¸è¶³ï¼Œç³»ç»Ÿä¼šæç¤ºç±»ä¼¼ï¼š

```plain
Permission denied
```

#### 3.3 ç¼–è¾‘ sudo æƒé™ï¼ˆäº†è§£ï¼‰
```bash
sudo visudo
```

> ä¿®æ”¹é”™è¯¯å¯èƒ½ä¼šé”æ­»ç³»ç»Ÿæƒé™ï¼Œåˆå­¦è€…åº”è°¨æ…æ“ä½œã€‚
>

### å››ã€æ–‡ä»¶æƒé™ä¸å±ä¸»
#### 4.1 æƒé™åŸºç¡€ï¼ˆrwxï¼‰
æ¯ä¸ªæ–‡ä»¶/ç›®å½•éƒ½æœ‰ä¸‰ç§è®¿é—®æƒé™ï¼š

| æƒé™ | è‹±æ–‡ | å«ä¹‰ |
| --- | --- | --- |
| r | read | è¯»å–æƒé™ |
| w | write | å†™å…¥æƒé™ |
| x | execute | æ‰§è¡Œ/è®¿é—®æƒé™ï¼ˆç›®å½•æ—¶è¡¨ç¤ºâ€œå¯è¿›å…¥â€ï¼‰ |


ä¸‰ç»„æƒé™å¯¹è±¡ï¼š

| å¯¹è±¡ | è¯´æ˜ |
| --- | --- |
| æ‰€æœ‰è€…ï¼ˆuserï¼‰ | åˆ›å»ºæ–‡ä»¶çš„ç”¨æˆ· |
| æ‰€å±ç»„ï¼ˆgroupï¼‰ | æ–‡ä»¶æ‰€å±çš„ç»„ |
| å…¶ä»–äººï¼ˆothersï¼‰ | ä»»ä½•éå±ä¸»ä¹Ÿéç»„æˆå‘˜çš„ç”¨æˆ· |


æŸ¥çœ‹æƒé™ç¤ºä¾‹ï¼š

```bash
ls -l
```

è¾“å‡ºç¤ºä¾‹ï¼š

```plain
-rw-r--r-- 1 alice staff 1234 Jul 10 10:00 example.txt
```

è§£é‡Šï¼š

+ `-rw-r--r--`ï¼šç”¨æˆ·å¯è¯»å†™ï¼Œç»„å’Œå…¶ä»–ç”¨æˆ·åªè¯»ï¼›
+ æ–‡ä»¶å±ä¸»æ˜¯ `alice`ï¼Œå±ç»„æ˜¯ `staff`ã€‚

#### 4.2 ä¿®æ”¹æƒé™å‘½ä»¤
| å‘½ä»¤ | åŠŸèƒ½ |
| --- | --- |
| `chmod` | ä¿®æ”¹æƒé™ |
| `chown` | ä¿®æ”¹å±ä¸» |
| `chgrp` | ä¿®æ”¹å±ç»„ |


ç¤ºä¾‹ï¼š

```bash
chmod 755 script.sh          # è®¾ç½®æƒé™ï¼šrwxr-xr-x
chown bob:devgroup file.txt  # è®¾ç½®å±ä¸»ä¸º bobï¼Œå±ç»„ä¸º devgroup
```

#### 4.3 æƒé™æ•°å­—è¡¨ç¤ºæ³•ï¼ˆå…«è¿›åˆ¶ï¼‰
| æƒé™ | æ•°å€¼ |
| --- | --- |
| rwx | 7 |
| rw- | 6 |
| r-- | 4 |
| --- | 0 |


ä¾‹å¦‚ï¼š

```bash
chmod 644 a.txt     # æ‰€æœ‰è€…è¯»å†™ï¼Œå…¶ä»–åªè¯»
chmod 700 script.sh # åªæœ‰å±ä¸»èƒ½è¯»å†™æ‰§è¡Œ
```

## æœ¬ç« ç»ƒä¹ ä»»åŠ¡
### âœ… ç»ƒä¹ 1ï¼šç”¨æˆ·ä¸ç»„ç®¡ç†
```bash
sudo useradd -m student1
sudo passwd student1
sudo groupadd students
sudo usermod -aG students student1
id student1
groups student1
```

### âœ… ç»ƒä¹ 2ï¼šåˆ‡æ¢ç”¨æˆ·ä½“éªŒ
```bash
su student1         # åˆ‡æ¢ç”¨æˆ·
whoami              # æŸ¥çœ‹å½“å‰ç”¨æˆ·
cd ~                # å›å½“å‰ç”¨æˆ·çš„ä¸»ç›®å½•ï¼ˆä¹Ÿå¯ä»¥ç›´æ¥æ‰§è¡Œ cd )
exit                # å›åˆ°åŸç”¨æˆ·
```

### âœ… ç»ƒä¹ 3ï¼šæ–‡ä»¶æƒé™æ“ä½œ
```bash
touch testfile
ls -l testfile
chmod 600 testfile
ls -l testfile
chmod u+x testfile
```

### âœ… ç»ƒä¹ 4ï¼šä¿®æ”¹å±ä¸»å’Œå±ç»„
```bash
sudo chown student1 testfile
sudo chgrp students testfile
ls -l testfile
```

### ğŸ“¦ è¯¾åæ‹“å±•ä»»åŠ¡
1. ä½¿ç”¨ `chmod +x` ç»™è‡ªå·±å†™çš„å°è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™ï¼›
2. å°è¯•åˆ›å»ºä¸€ä¸ªåªèƒ½è‡ªå·±è®¿é—®çš„ç›®å½•ï¼Œå¹¶éªŒè¯å…¶ä»–ç”¨æˆ·æ— æ³•è¿›å…¥ï¼›
3. ç ”ç©¶ `/etc/sudoers` æ–‡ä»¶ç»“æ„ï¼Œä½†ä¸è¦ç›´æ¥æ‰‹åŠ¨ç¼–è¾‘ï¼ˆä½¿ç”¨ `visudo`ï¼‰ï¼›
4. é˜…è¯» `man chown`, `man chmod`, `man useradd`ã€‚

