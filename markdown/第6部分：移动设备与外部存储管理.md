### ä¸€ã€Linux ä¸­çš„è®¾å¤‡æ–‡ä»¶
#### 1.1 ä¸€åˆ‡è®¾å¤‡çš†æ–‡ä»¶
+ Linux ä¸­æ‰€æœ‰è®¾å¤‡éƒ½è¡¨ç°ä¸ºæ–‡ä»¶ï¼Œé€šå¸¸ä½äº `/dev/` ç›®å½•ï¼›
+ å¸¸è§è®¾å¤‡å‘½åï¼š
    - `/dev/sdX`ï¼šSATA/SCSI ç£ç›˜ï¼ˆX ä¸º aã€bã€câ€¦ï¼‰
    - `/dev/sdXN`ï¼šç£ç›˜çš„ç¬¬ N ä¸ªåˆ†åŒºï¼ˆå¦‚ `/dev/sdb1`ï¼‰

#### 1.2 æŸ¥çœ‹è®¾å¤‡ä¸åˆ†åŒº
| å‘½ä»¤ | åŠŸèƒ½ |
| --- | --- |
| `lsblk` | æŸ¥çœ‹å—è®¾å¤‡ï¼ˆç»“æ„æ¸…æ™°ï¼‰ |
| `blkid` | æ˜¾ç¤ºè®¾å¤‡çš„ UUID ä¸æ–‡ä»¶ç³»ç»Ÿç±»å‹ |
| `fdisk -l` | æŸ¥çœ‹ç£ç›˜è¯¦ç»†ä¿¡æ¯ |
| `df -h` | æŸ¥çœ‹æŒ‚è½½åçš„ç£ç›˜ä½¿ç”¨æƒ…å†µ |


ç¤ºä¾‹ï¼š

```bash
lsblk
blkid
sudo fdisk -l
```

### äºŒã€æ ¼å¼åŒ–ä¸æ–‡ä»¶ç³»ç»Ÿ
#### 2.1 æ–‡ä»¶ç³»ç»Ÿç±»å‹ç®€ä»‹
| ç±»å‹ | ç‰¹ç‚¹ |
| --- | --- |
| ext4 | Linux é»˜è®¤ï¼Œæ”¯æŒæƒé™ã€æ•ˆç‡é«˜ |
| vfat | å…¼å®¹ Windowsï¼Œæ–‡ä»¶å¤§å°æœ‰é™åˆ¶ |
| ntfs | Windows ä½¿ç”¨ï¼ŒLinux æ”¯æŒæœ‰é™ |
| exfat | å¤šç§ç³»ç»Ÿæ”¯æŒï¼Œä¸»è¦ç”¨äºUç›˜ç±»å°å‹ç§»åŠ¨è®¾å¤‡ |


#### 2.2 æ ¼å¼åŒ–å‘½ä»¤
+ ä¼šæ¸…ç©ºåŸæœ‰æ•°æ®ï¼Œè¯·è°¨æ…æ“ä½œï¼›

```bash
sudo mkfs.ext4 /dev/sdb1         # æ ¼å¼åŒ–ä¸º ext4
sudo mkfs.vfat /dev/sdb1         # æ ¼å¼åŒ–ä¸º FAT32
```

#### 2.3 å®‰è£…æ–‡ä»¶ç³»ç»Ÿæ”¯æŒç»„ä»¶ï¼ˆå¦‚æœ‰éœ€è¦ï¼‰
```bash
# å®‰è£… exFAT æ”¯æŒ
sudo apt update
sudo apt install exfat-fuse exfatprogs

# å®‰è£… NTFS æ”¯æŒ
sudo apt install ntfs-3g
```

### äºŒã€æŒ‚è½½ä¸å¸è½½è®¾å¤‡
#### 3.1 æ’å…¥ U ç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜
+ æ’å…¥åç³»ç»Ÿä¼šè‡ªåŠ¨æ£€æµ‹ï¼›
+ å¯ç”¨ `dmesg` æˆ– `lsblk` æŸ¥çœ‹è®¾å¤‡ä¿¡æ¯ã€‚

#### 3.2 ä½¿ç”¨ `lsblk` å‘½ä»¤æŸ¥çœ‹ç£ç›˜
```bash
lsblk
```

ç¤ºä¾‹è¾“å‡ºï¼š

```plain
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0   64G  0 disk
â””â”€sda1   8:1    0   64G  0 part /
sdb      8:16   1   16G  0 disk
â””â”€sdb1   8:17   1   16G  0 part
```

+ `sdb` æ˜¯æ’å…¥çš„ U ç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜ï¼›
+ `sdb1` æ˜¯å…¶ç¬¬ä¸€ä¸ªåˆ†åŒºï¼ˆé€šå¸¸ä¸º exFAT æˆ– NTFSï¼‰ã€‚

#### 3.3 ä½¿ç”¨ `blkid` æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹
```bash
sudo blkid /dev/sdb1
```

è¾“å‡ºç¤ºä¾‹ï¼š

```plain
/dev/sdb1: UUID="XXXX" TYPE="exfat"
```

#### 3.4 ä½¿ç”¨ `blkid` æŸ¥çœ‹æ–‡ä»¶ç³»ç»Ÿç±»å‹
```bash
sudo blkid /dev/sdb1
```

è¾“å‡ºç¤ºä¾‹ï¼š

```plain
/dev/sdb1: UUID="XXXX" TYPE="exfat"
```

#### 3.5 æ‰‹åŠ¨æŒ‚è½½ U ç›˜æˆ–ç§»åŠ¨ç¡¬ç›˜
1. æ’å…¥è®¾å¤‡åæ‰§è¡Œï¼š

```bash
lsblk
```

æ‰¾åˆ°å¦‚ `/dev/sdb1` çš„åˆ†åŒºã€‚

2. åˆ›å»ºæŒ‚è½½ç‚¹

```bash
sudo mkdir /mnt/usb
```

3. æ‰‹åŠ¨æŒ‚è½½ï¼š

```bash
# æŒ‚è½½ exFAT åˆ†åŒº
sudo mount -t exfat /dev/sdb1 /mnt/usb

# æŒ‚è½½ NTFS åˆ†åŒº
sudo mount -t ntfs /dev/sdb1 /mnt/usb
```

å¦‚æœä½ ä¸ç¡®å®šç±»å‹ï¼Œä¹Ÿå¯ä»¥è®©ç³»ç»Ÿè‡ªåŠ¨åˆ¤æ–­ï¼š

```bash
sudo mount /dev/sdb1 /mnt/usb
```

4. éªŒè¯ï¼š

```bash
df -h
ls /mnt/usb
```

#### 3.6 å¸è½½è®¾å¤‡
+ å¸è½½å‰è¯·ç¡®ä¿ä¸åœ¨è¯¥ç›®å½•ä¸‹ï¼Œä¸”æ–‡ä»¶æœªè¢«å ç”¨ï¼š

```bash
cd ~    #é€€å‡ºæŒ‚è½½ç‚¹
sudo umount /mnt/usb
```

### å››ã€è‡ªåŠ¨æŒ‚è½½
é…ç½®æ°¸ä¹…æŒ‚è½½éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ `/etc/fstab`

ç¤ºä¾‹ï¼š

```plain
UUID=xxxx-xxxx  /mnt/usb  ext4  defaults  0  0
```

æŸ¥çœ‹è®¾å¤‡ UUIDï¼š

```bash
blkid
```

æ³¨æ„ï¼š

+ é…ç½®é”™è¯¯ä¼šå¯¼è‡´ç³»ç»Ÿå¯åŠ¨å¤±è´¥ï¼›
+ å­¦å‘˜ä»…éœ€äº†è§£ï¼Œä¸å»ºè®®åˆå­¦è€…ä¿®æ”¹æ­¤æ–‡ä»¶ã€‚

### äº”ã€æ—¥å¿—ä¸Uç›˜è¯†åˆ«è¾…åŠ©å‘½ä»¤
å¯ä»¥ä½¿ç”¨ `dmesg` è§‚å¯Ÿè®¾å¤‡æ’æ‹”

```bash
dmesg | tail -20
```

å½“æ’å…¥Uç›˜æ—¶ï¼Œå¯ä»¥çœ‹åˆ°ç³»ç»Ÿè¯†åˆ«ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š

```plain
[12345.678] sd 3:0:0:0: [sdb] Attached SCSI removable disk
```

### å…­ã€å¸¸è§é—®é¢˜æ’æŸ¥
| é—®é¢˜ | åŸå› ä¸è§£å†³æ–¹å¼ |
| --- | --- |
| `mount: unknown filesystem type` | æ²¡æœ‰å®‰è£…å¯¹åº”çš„æ–‡ä»¶ç³»ç»Ÿé©±åŠ¨ï¼ˆå¦‚ `exfat-fuse`ï¼‰ |
| `device is busy` | æœ‰ç¨‹åºæˆ–ç»ˆç«¯æ­£åœ¨è®¿é—®æŒ‚è½½ç›®å½•ï¼Œé€€å‡ºåå† `umount` |
| æƒé™ä¸è¶³ | ä½¿ç”¨ `sudo` æ‰§è¡ŒæŒ‚è½½å’Œè®¿é—®å‘½ä»¤ |
| è¯»å†™å¤±è´¥ï¼ˆNTFSï¼‰ | å¯èƒ½æŒ‚è½½ä¸ºåªè¯»ï¼Œå¯å°è¯• `ntfsfix` ä¿®å¤åé‡æ–°æ’å…¥ |


## æœ¬ç« ç»ƒä¹ ä»»åŠ¡
### âœ… ç»ƒä¹ 1ï¼šè¯†åˆ«è®¾å¤‡
1. æ’å…¥ U ç›˜åæ‰§è¡Œï¼š

```bash
lsblk
blkid           #åˆ¤æ–­å®ƒæ˜¯å¦æ˜¯ exFAT æˆ– NTFSï¼›
sudo fdisk -l
```

2. ä½¿ç”¨ `dmesg | tail` æŸ¥çœ‹æ’å…¥æ—¥å¿—ã€‚

### âœ… ç»ƒä¹ 2ï¼šæ‰‹åŠ¨æŒ‚è½½ä¸è®¿é—®
```bash
sudo mkdir /mnt/usb
sudo mount /dev/sdb1 /mnt/usb      # æ ¹æ®å®é™…è®¾å¤‡åæ›¿æ¢
ls /mnt/usb
cp somefile.txt /mnt/usb           #æ‹·è´ä¸€ä¸ªæ–‡ä»¶è¿›å»
```

### âœ… ç»ƒä¹ 3ï¼šå¸è½½è®¾å¤‡
```bash
cd ~
sudo umount /mnt/usb
```

### âœ… ç»ƒä¹ 4ï¼ˆå¦‚æœ‰ç©ºç™½ç£ç›˜æˆ–è™šæ‹Ÿç£ç›˜å¯ç”¨ï¼‰ï¼šæ ¼å¼åŒ–æµ‹è¯•ï¼ˆè°¨æ…ï¼‰
```bash
sudo mkfs.ext4 /dev/sdb1
```

### ğŸ“¦ è¯¾åæ‹“å±•ä»»åŠ¡
1. æŸ¥çœ‹å¹¶è§£è¯» `/etc/fstab` çš„ä¸€é¡¹é…ç½®ï¼›
2. å°è¯•å°†ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶å¤åˆ¶åˆ°æŒ‚è½½çš„ U ç›˜ï¼›
3. ç”¨ `df -h` æŸ¥çœ‹æ‰€æœ‰å·²æŒ‚è½½è®¾å¤‡çš„ç©ºé—´ï¼›
4. é˜…è¯» `man mount`, `man lsblk`, `man umount`ã€‚

